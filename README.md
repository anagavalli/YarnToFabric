YarnToFabric
===========

This repository contains Python scripts for mapping a procedurally generated yarn model onto polylines that represent a fabric weave. 

This is a snapshot subset of the code, meant for demo purposes, not actually for generating yarn models.

This repo does not contain the other scripts I created to make yarn segments periodic as they produced less pleasant results than "periodic_disjoint.py"

### Instructions to run
1. Generate a yarn model from CT data (using FiberGenerator), saving the parameter config file as well as the fiber file.
*Note* - By default, FiberGenerator saves the fiber file as "fiber.txt" and the config file as "config_step2.txt"
2. Generate warp and weft polylines that will have the yarn tiled onto them.
3. Run "yarn_to_fabric.py" on the warp and weft files using the following syntax:
python yarn_to_fabric.py <polyline_file> <yarn_file> <yarn_config_file> <polyline_radius> <output_file>
4. Create a Mitsuba scene to view the output tiled warp and weft files

### Examples
Example inputs and outputs are located in "sample_input" and "sample_output" respectively.

<polyline_file> - warp/weft files - Ex: warp.hair/weft.hair

<yarn_file> - yarn file generated by FiberGenerator - Ex: polyester_fiber.hair

<yarn_config_file> - config file generated by FiberGenerator - Ex: polyester_fiber_config.txt

<polyline_radius> - radius of warp/weft polylines - Ex: taken from polyline generation scene file (for warp.hair this is 0.00211, for weft.hair this is 0.0025)

<output_file> - name of output file - Ex: polyester_partial_warp.hair

*Note* - Sample outputs are partial due to file size limits when uploading to github. Running yarn_to_fabric on warp.hair/weft.hair will produce a full weave pattern, not the partial weave in the sample
